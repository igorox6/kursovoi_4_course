<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.kursovoi_4_course_1.Controllers.RegAdminModelChooseController"
            prefWidth="900.0" prefHeight="520.0"
            style="-fx-background-color: #efefef;">

    <children>

        <!-- Верхняя панель (как в BboxController) -->
        <VBox AnchorPane.leftAnchor="-2.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="4.0" spacing="6.0">
            <children>
                <HBox spacing="10.0" alignment="CENTER_LEFT" style="-fx-padding: 6 12 6 12;">
                    <children>
                        <ImageView fx:id="logoImageView"
                                   fitWidth="140.0" fitHeight="60.0"
                                   preserveRatio="true" smooth="true" pickOnBounds="true" />

                        <Region HBox.hgrow="ALWAYS" />

                        <VBox alignment="CENTER_RIGHT" spacing="6.0">
                            <children>
                                <HBox alignment="CENTER_RIGHT" spacing="8.0">
                                    <children>
                                        <Label fx:id="adminName"
                                               text="Логин"
                                               style="-fx-font-size: 14px; -fx-text-fill: #222222; -fx-font-weight: 600;" />
                                        <StackPane prefWidth="36.0" prefHeight="36.0"
                                                   style="-fx-background-color: #222; -fx-background-radius: 18;">
                                            <children>
                                                <Label text="&#x1F464;" style="-fx-text-fill: white; -fx-font-size: 14px;" />
                                            </children>
                                        </StackPane>
                                    </children>
                                </HBox>
                            </children>
                        </VBox>
                    </children>
                </HBox>
            </children>
        </VBox>

        <!-- Основной контент: слева список/тип, центр — информация, справа drawer (как в Bbox) -->
        <HBox AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="80.0" AnchorPane.rightAnchor="20.0" AnchorPane.bottomAnchor="30.0" spacing="18.0">

            <!-- Левая панель: типы и список моделей -->
            <VBox spacing="10.0" prefWidth="260.0"
                  style="-fx-background-color: #E6E6E6; -fx-background-radius: 8; -fx-padding: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 6,0,0,2);">
                <Label text="Типы моделей" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #222;" />
                <ComboBox fx:id="typeComboBox" promptText="Выберите тип" prefWidth="220.0" style="-fx-font-size: 13px;"/>
                <Label text="Доступные версии" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <ListView fx:id="modelListView" prefHeight="150.0" style="-fx-background-radius: 6; -fx-border-radius: 6;"/>
                <Label fx:id="currentUsedLabel"
                       text="Сейчас используются: BBOX - —, POINTS - —"
                       wrapText="true"
                       style="-fx-font-size: 11px; -fx-text-fill: #333;" />
                <Button fx:id="applyButton" text="Применить" prefWidth="180.0" prefHeight="36.0"
                        style="-fx-background-color: #1f78d1; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-font-size: 14px;"/>
            </VBox>

            <!-- Центральная панель: информация о модели (без превью) -->
            <VBox spacing="10.0" prefWidth="420.0"
                  style="-fx-background-color: #E6E6E6; -fx-background-radius: 8; -fx-padding: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 6,0,0,2);">
                <Label fx:id="selectedModelTitle" text="Информация о модели" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #222;"/>
                <GridPane hgap="8.0" vgap="8.0">
                    <columnConstraints>
                        <ColumnConstraints prefWidth="120" />
                        <ColumnConstraints prefWidth="260" />
                    </columnConstraints>

                    <children>
                        <Label text="Версия:" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-font-size:13px; -fx-font-weight:600;"/>
                        <Label fx:id="versionLabel" text="—" GridPane.rowIndex="0" GridPane.columnIndex="1" style="-fx-font-size:13px;"/>

                        <Label text="Потери:" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-font-size:13px; -fx-font-weight:600;"/>
                        <Label fx:id="lossLabel" text="—" GridPane.rowIndex="1" GridPane.columnIndex="1" style="-fx-font-size:13px;"/>

                        <Label text="Дата выхода:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-font-size:13px; -fx-font-weight:600;"/>
                        <Label fx:id="releaseDateLabel" text="—" GridPane.rowIndex="2" GridPane.columnIndex="1" style="-fx-font-size:13px;"/>

                        <Label text="Комментарий:" GridPane.rowIndex="3" GridPane.columnIndex="0" style="-fx-font-size:13px; -fx-font-weight:600;"/>
                        <TextArea fx:id="commentTextArea" GridPane.rowIndex="3" GridPane.columnIndex="1" prefRowCount="4" wrapText="true" editable="false" style="-fx-font-size:13px; -fx-background-radius:6;" />
                    </children>
                </GridPane>
            </VBox>

            <AnchorPane fx:id="sideDrawer"
                        AnchorPane.topAnchor="60.0"
                        AnchorPane.rightAnchor="0.0"
                        prefWidth="180.0" prefHeight="220.0"
                        style="-fx-background-color: transparent;">
                <children>
                    <VBox alignment="TOP_RIGHT" spacing="8.0" prefWidth="180.0" prefHeight="220.0">
                        <!-- toggle button (как в Bbox) -->
                        <Button fx:id="toggleButton"
                                text="←"
                                mnemonicParsing="false"
                                onAction="#handleToggleDrawer"
                                prefWidth="44.0" prefHeight="44.0"
                                style="-fx-background-color: #1f78d1; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-font-size: 18px;" />

                        <!-- Кнопки, которые появляются при выдвижении (по-умолчанию скрыты, как в Bbox) -->
                        <Button fx:id="typeDefButton"
                                text="Тип отображения"
                                onAction="#handleTypeBoxButton"
                                mnemonicParsing="false"
                                visible="false" opacity="0"
                                wrapText="true"
                                prefWidth="160.0" prefHeight="36.0"
                                style="-fx-background-color: #1f78d1; -fx-text-fill: white; -fx-font-weight: 600; -fx-background-radius: 8;" />

                        <Button fx:id="modelTypeButton"
                                text="Тип модели"

                                mnemonicParsing="false"
                                visible="false" opacity="0"
                                prefWidth="160.0" prefHeight="36.0"
                                style="-fx-background-color: #1f78d1; -fx-text-fill: white; -fx-font-weight: 600; -fx-background-radius: 8;
                                 -fx-border-color: #22252A;-fx-border-width: 3; -fx-border-radius: 8; " />

                        <Button fx:id="usersButton"
                                text="Пользователи"
                                onAction="#handleUsers"
                                mnemonicParsing="false"
                                visible="false" opacity="0"
                                prefWidth="160.0" prefHeight="36.0"
                                style="-fx-background-color: #1f78d1; -fx-text-fill: white; -fx-font-weight: 600; -fx-background-radius: 8;" />

                        <Button fx:id="logoutButton"
                                text="Выйти"
                                onAction="#handleLogout"
                                mnemonicParsing="false"
                                visible="false" opacity="0"
                                prefWidth="160.0" prefHeight="36.0"
                                style="-fx-background-color: #ff6a00; -fx-text-fill: white; -fx-font-weight: 600; -fx-background-radius: 8;" />
                    </VBox>
                </children>
            </AnchorPane>

        </HBox>
    </children>
</AnchorPane>
