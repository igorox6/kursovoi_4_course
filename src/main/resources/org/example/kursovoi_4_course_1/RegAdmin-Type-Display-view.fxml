<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.kursovoi_4_course_1.Controllers.RegAdminModelChooseView"
            prefWidth="1000.0" prefHeight="600.0"
            style="-fx-background-color: #efefef;">

    <!-- Верхняя полоса: логотип слева, логин админа справа -->
    <children>
        <HBox spacing="10.0" alignment="CENTER_LEFT"
              AnchorPane.topAnchor="10.0"
              AnchorPane.leftAnchor="10.0"
              AnchorPane.rightAnchor="10.0">
            <children>
                <ImageView fx:id="logoImageView"
                           fitWidth="140.0" fitHeight="60.0"
                           preserveRatio="true" smooth="true"
                           pickOnBounds="true"
                           style="-fx-padding: 6;" />
                <Region HBox.hgrow="ALWAYS" />
                <HBox alignment="CENTER_RIGHT" spacing="8.0">
                    <children>
                        <Label fx:id="adminName"
                               text="Логин администратора"
                               style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #222;" />
                        <StackPane prefWidth="36.0" prefHeight="36.0"
                                   style="-fx-background-color: #222; -fx-background-radius: 18;">
                            <children>
                                <Label text="&#x1F464;" style="-fx-text-fill: white; -fx-font-size: 16px;" />
                            </children>
                        </StackPane>
                    </children>
                </HBox>
            </children>
        </HBox>

        <!-- Основной контент: 3 колонки -->
        <HBox spacing="18.0"
              AnchorPane.topAnchor="100.0"
              AnchorPane.leftAnchor="20.0"
              AnchorPane.rightAnchor="20.0"
              AnchorPane.bottomAnchor="20.0">

            <!-- Левая колонка: типы моделей (выезжающий список / combo) -->
            <VBox spacing="10.0" prefWidth="220.0" alignment="TOP_LEFT">
                <children>
                    <Label text="Типы моделей" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #333;" />
                    <!-- "Выезжающий список" можно реализовать как ComboBox -->
                    <ComboBox fx:id="typeComboBox" prefWidth="200.0" prefHeight="36.0" promptText="Выберите тип" />
                    <!-- Список доступных моделей для выбранного типа (прокручиваемый) -->
                    <Label text="Название модели" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333;" />
                    <ListView fx:id="modelListView" prefHeight="380.0" prefWidth="220.0" />
                </children>
            </VBox>

            <!-- Центр: место для превью / иллюстрации или пустая панель -->
            <StackPane prefWidth="360.0" style="-fx-background-color: #f5f5f5; -fx-border-color: #d0d0d0; -fx-border-radius: 8; -fx-background-radius: 8;">
                <children>
                    <VBox alignment="CENTER" spacing="8.0">
                        <ImageView fx:id="previewImageView" fitWidth="300" fitHeight="200" preserveRatio="true" />
                        <Label fx:id="previewHint" text="Превью/изображение модели" style="-fx-text-fill: #666;" />
                    </VBox>
                </children>
            </StackPane>

            <!-- Правая колонка: выдвижная панель + информация о выбранной модели -->
            <VBox spacing="12.0" prefWidth="240.0" alignment="TOP_RIGHT">
                <children>
                    <!-- Панель-контрол для выдвижения (стрелка) и кнопки -->
                    <HBox alignment="TOP_RIGHT" spacing="8.0">
                        <children>
                            <Button fx:id="drawerToggleButton" text="→" onAction="#onToggleDrawer" prefWidth="44" prefHeight="44"
                                    style="-fx-background-color: #1f78d1; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-font-size: 18px;" />
                        </children>
                    </HBox>

                    <!-- Кнопки (изображены справа, можно показывать/скрывать при выдвижении) -->
                    <VBox fx:id="drawerButtons" spacing="8.0" alignment="TOP_RIGHT" visible="false" managed="false">
                        <children>
                            <Button text="Тип определения" fx:id="typeDefButton" prefWidth="200" prefHeight="38" />
                            <Button text="Тип модели" fx:id="modelTypeButton" prefWidth="200" prefHeight="38" />
                            <Button text="Пользователи" fx:id="usersButton" prefWidth="200" prefHeight="38" />
                            <Button text="Выйти" fx:id="logoutButton" prefWidth="200" prefHeight="38"
                                    style="-fx-background-color: #ff6a00; -fx-text-fill: white; -fx-font-weight: bold;" />
                        </children>
                    </VBox>

                    <Region prefHeight="12.0" />

                    <!-- Информация о выбранной модели -->
                    <Label text="Информация о модели" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #333;" />
                    <GridPane hgap="8.0" vgap="8.0">
                        <columnConstraints>
                            <ColumnConstraints halignment="LEFT" prefWidth="90"/>
                            <ColumnConstraints halignment="LEFT" prefWidth="130"/>
                        </columnConstraints>

                        <children>
                            <Label text="Версия:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                            <Label fx:id="versionLabel" text="—" GridPane.rowIndex="0" GridPane.columnIndex="1" />

                            <Label text="Потери:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                            <Label fx:id="lossLabel" text="—" GridPane.rowIndex="1" GridPane.columnIndex="1" />

                            <Label text="Дата выхода:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                            <Label fx:id="releaseDateLabel" text="—" GridPane.rowIndex="2" GridPane.columnIndex="1" />

                            <Label text="Комментарий:" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                            <TextArea fx:id="commentTextArea" prefRowCount="4" editable="false" wrapText="true"
                                      GridPane.rowIndex="3" GridPane.columnIndex="1" prefWidth="130" />
                        </children>
                    </GridPane>

                    <Region VBox.vgrow="ALWAYS" />

                    <!-- Снизу слева: подпись и кнопка Применить -->
                    <HBox spacing="12.0" alignment="CENTER_LEFT">
                        <children>
                            <Label fx:id="currentUsedLabel" text="Сейчас используются: —" style="-fx-font-size: 13px; -fx-text-fill: #333;" />
                        </children>
                    </HBox>

                    <Button fx:id="applyButton" text="Применить" onAction="#onApply"
                            prefWidth="200.0" prefHeight="40.0"
                            style="-fx-background-color: #1f78d1; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-font-size: 14px;" />
                </children>
            </VBox>
        </HBox>
    </children>
</AnchorPane>
